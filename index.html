<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ch√° de Casa Nova - Bruna e Daniel</title>
  <style>
    body {
      font-family: "Poppins", sans-serif;
      background-color: #f8f6f2;
      color: #4a403a;
      margin: 0;
      padding: 0;
    }

    header {
      text-align: center;
      background-color: #f4e9db;
      padding-bottom: 30px;
    }

    header img {
      width: 100%;
      max-height: 300px;
      object-fit: cover;
      border-bottom: 3px solid #d1bfa7;
    }

    header h1 {
      font-size: 2em;
      margin: 20px 0 10px 0;
      color: #4a403a;
    }

    header p {
      font-size: 1.1em;
      color: #5a524c;
      margin: 0 20px 10px 20px;
    }

    .whatsapp-container {
      text-align: center;
      margin: 20px 0;
    }

    .whatsapp-btn {
      background-color: #25D366;
      color: white;
      font-size: 1em;
      padding: 14px 26px;
      border-radius: 8px;
      text-decoration: none;
      transition: background 0.2s;
      display: inline-block;
    }

    .whatsapp-btn:hover {
      background-color: #1da955;
    }

    .container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      padding: 30px;
      max-width: 1200px;
      margin: auto;
    }

    .item {
      background: #ffffff;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      padding: 20px;
      transition: transform 0.2s ease;
      position: relative;
    }

    .item:hover {
      transform: translateY(-3px);
    }

    .item h3 {
      font-size: 1.1em;
      margin-bottom: 10px;
      color: #3b322c;
    }

    .item a {
      color: #937b61;
      text-decoration: none;
      font-weight: 500;
    }

    .btn-escolher {
      display: inline-block;
      margin-top: 15px;
      background-color: #cbb89d;
      color: #fff;
      padding: 10px 16px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.9em;
      transition: background 0.2s;
    }

    .btn-escolher:hover {
      background-color: #b89f7a;
    }

    .item.escolhido {
      opacity: 0.5;
      pointer-events: none;
    }

    .item.escolhido::after {
      content: "üéÅ J√° Escolhido";
      position: absolute;
      top: 10px;
      right: 10px;
      background: #b89f7a;
      color: white;
      padding: 5px 10px;
      border-radius: 5px;
      font-size: 0.8em;
    }
  </style>
</head>
<body>

  <header>
    <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?auto=format&fit=crop&w=1600&q=80" alt="Decora√ß√£o de Casa Nova">
    <h1>Ch√° de Casa Nova da Bruna & Daniel</h1>
    <p>üíõ Seja bem-vindo(a)! Escolha um presente para nos ajudar a montar nosso novo lar com amor e carinho.</p>
  </header>

  <div class="whatsapp-container">
    <a class="whatsapp-btn" href="https://wa.me/5511950392090?text=Entre%20em%20contato!" target="_blank">
      üíå Entre em contato!
    </a>
  </div>

  <div class="container" id="lista-presentes"></div>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

  <script>
    // Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyDyaNziNBQx4uMRUFygh23NL7n95OrS9dM",
      authDomain: "lista-presentes-lima.firebaseapp.com",
      projectId: "lista-presentes-lima",
      storageBucket: "lista-presentes-lima.firebasestorage.app",
      messagingSenderId: "228659532797",
      appId: "1:228659532797:web:169b6baa25eaa77fb1ff94",
      measurementId: "G-P41QP5CZN5"
    };

    // Inicializa Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    // Lista de presentes
    const itens = [
      { nome: "Mop Girat√≥rio 8 Litros Fit", link: "https://s.shopee.com.br/AUlWWlxNPO" },
      { nome: "Rodo Limpador De Silicone M√°gico", link: "https://s.shopee.com.br/qb117DgJm" },
      { nome: "Gancho Multiuso Suporte Com Adesivo", link: "https://s.shopee.com.br/60J7Ad2PMY" },
      { nome: "Escova de Silicone para Vaso Sanit√°rio", link: "https://s.shopee.com.br/3VbmC377c9" },
      { nome: "Varal Dobr√°vel Inox", link: "https://s.shopee.com.br/4VUJNuG6tG" },
      { nome: "Kit Banheiro Lavabo 3 pe√ßas", link: "https://s.shopee.com.br/gHaosUIbX" },
      { nome: "Mesa Prateleira de Sacada", link: "https://s.shopee.com.br/4ArSzKlRC7" },
      { nome: "Kit Rodinho de Pia", link: "https://s.shopee.com.br/BLKDzmzfp" },
      { nome: "Pratos de Sobremesa Nadir Duralex", link: "https://s.shopee.com.br/5VMqZoJUEH" },
      { nome: "Jogo de Pratos Duralex", link: "https://s.shopee.com.br/VyAcdOzFc" },
      { nome: "Suporte Porta Vassoura", link: "https://s.shopee.com.br/8ANbkjvKO2" },
      { nome: "Cesto com Al√ßa Multiuso", link: "https://s.shopee.com.br/1gA80oO4JI" },
      { nome: "Porta Chaves MDF", link: "https://s.shopee.com.br/1gA80pJKjz" },
      { nome: "Jogo de Ta√ßas Diamante 340ml", link: "https://s.shopee.com.br/4fnjaM32ZQ" },
      { nome: "Kit Tapete Passadeira", link: "https://s.shopee.com.br/9AG8wdYJ2m" },
      { nome: "Ganchos de Parede Multiuso", link: "https://s.shopee.com.br/1qTYDBZ5Ob" },
      { nome: "Conjunto de 5 Potes Herm√©ticos", link: "https://s.shopee.com.br/10uRDhAZzy" },
      { nome: "Kit 10 Cestos Organizadores", link: "https://s.shopee.com.br/3Ayvni1alx" },
      { nome: "Cortina Blackout com Voil", link: "https://s.shopee.com.br/3qEcaxKa2h" },
      { nome: "Tapete Banheiro Oval", link: "https://s.shopee.com.br/3AyvnkR77H" },
      { nome: "Tapete Piso Sa√≠da Box", link: "https://s.shopee.com.br/5VMqa34czS" },
      { nome: "Cesto de Lixo 5L", link: "https://s.shopee.com.br/9KZZ96pdAQ" },
      { nome: "Cesto de Roupa Rattan 50L", link: "https://s.shopee.com.br/70BeMpcBDM" },
      { nome: "Suporte Banheiro Adesivo", link: "https://s.shopee.com.br/20myPfyjmq" },
      { nome: "Fruteira Cesta Aramada", link: "https://s.shopee.com.br/9fCPXmiLXF" },
      { nome: "Organizador de Arm√°rio (5 unid.)", link: "https://br.shp.ee/ngoyjV1" },
      { nome: "Luva de Silicone T√©rmica", link: "https://br.shp.ee/fS5XHfs" },
      { nome: "Organizador de Gavetas", link: "https://br.shp.ee/Sghxo4m" },
      { nome: "Jogo 6 Copos de Vidro Adhara", link: "https://br.shp.ee/KYnyZ1D" },
      { nome: "Porta Frios Triplo Acr√≠lico", link: "https://br.shp.ee/eWZJyiQ" }
    ];

    const listaContainer = document.getElementById("lista-presentes");

    // Cria cole√ß√£o "presentes" se ainda n√£o existir
    itens.forEach(async item => {
      const docRef = db.collection("presentes").doc(btoa(item.link));
      const doc = await docRef.get();
      if (!doc.exists) {
        await docRef.set({
          nome: item.nome,
          link: item.link,
          status: "disponivel"
        });
      }
    });

    // Fun√ß√£o para renderizar itens
    function renderItem(item, status) {
      const card = document.createElement("div");
      card.className = "item";
      if (status !== "disponivel") card.classList.add("escolhido");

      const nome = document.createElement("h3");
      nome.textContent = item.nome;

      const link = document.createElement("a");
      link.href = item.link;
      link.target = "_blank";
      link.textContent = "Ver na Shopee";

      const botao = document.createElement("button");
      botao.className = "btn-escolher";
      botao.textContent = "Escolher este presente üéÅ";
      if (status !== "disponivel") botao.disabled = true;

      botao.addEventListener("click", async () => {
        await db.collection("presentes").doc(btoa(item.link)).update({ status: "sendo" });
      });

      card.appendChild(nome);
      card.appendChild(link);
      card.appendChild(botao);
      listaContainer.appendChild(card);
    }

    // Escuta mudan√ßas em tempo real
    db.collection("presentes").onSnapshot(snapshot => {
      listaContainer.innerHTML = "";
      snapshot.forEach(doc => {
        const data = doc.data();
        renderItem({ nome: data.nome, link: data.link }, data.status);
      });
    });

    // Admin simples
    function loginAdmin() {
      const senha = prompt("Digite a senha de admin:");
      if (senha === "limaAdmin2025") {
        alert("Admin liberado! Agora voc√™ pode marcar os presentes como comprados.");
        // Aqui voc√™ poderia abrir controles extras de admin
      } else {
        alert("Senha incorreta!");
      }
    }

    // Atalho para admin
    window.loginAdmin = loginAdmin;
  </script
